<!DOCTYPE html>
<html lang="">
<!--
  Git-sha: 85924ff87520d7d0eca8fc2a241fc37a5c278334
-->




<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>R Notebook</title>
  <link href='//fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/pygments-default.css">

  <script src="../js/vendor/modernizr-2.6.1-respond-1.1.0.min.js"></script>
  <script src="../js/vendor/jquery-1.8.0.min.js"></script>
  <script src="../js/layout-setup.js"></script>
  <script src="../js/collapsable-content.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-67859892-1', 'auto');
  ga('send', 'pageview');
</script>

</head>

<body cz-shortcut-listen="true">
  <header>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container head-of-page">
        <div class="navbar-header">
          <div class="navbar-brand">
            <a href=".."><img src="../img/seahorse_logo.png" alt="deepsense.ai Seahorse"></a>
          </div>
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class=""><a href="..">Overview</a></li>
            <li class="editor-link"><a href="../getting_started.html">Getting Started</a></li>
            <li class="editor-link"><a href="../deployment.html">Deployment</a></li>
            <li class=" dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Examples<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li class=""><a href="../basic_examples.html">Basic Examples</a></li>
                <li role="separator" class="divider"></li>
                
                  <li class=""><a href="../casestudies/credit_card_client_defaults.html">Credit Card Client Defaults</a></li>
                
                  <li class=""><a href="../casestudies/income_predicting.html">Income Prediction</a></li>
                
                  <li class=""><a href="../casestudies/mushrooms.html">Mushrooms</a></li>
                
                  <li class=""><a href="../casestudies/text_message_spam_detection.html">Text Message Spam Detection</a></li>
                
                  <li class=""><a href="../casestudies/wine_properties.html">Wine Properties</a></li>
                
              </ul>
            </li>
            <li class=" dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Reference Guide<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li class=""><a href="../reference/server_mode.html">Server Mode</a></li>
                <li class=""><a href="../reference/external_cluster.html">Using External Cluster</a></li>
                <li class=""><a href="../reference/productionizing.html">Productionizing Workflows</a></li>
                <li class=""><a href="../operations.html">Operations</a></li>
                <li class=""><a href="../reference/data_sources.html">Data Sources</a></li>
                <li class=""><a href="../reference/sdk_user_guide.html">SDK User Guide</a></li>
                <li class=""><a href="../reference/release_notes.html">Release Notes</a></li>
                <li class=""><a href="../reference/migration_guide.html">Migration Guide</a></li>
              </ul>
            </li>
            <li><a href="https://deepsense.ai/contact">Contact Us</a></li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  
  <script src="../js/search.js"></script>
<div class="col-md-12 sidemenu-container">
  <ul class="sidemenu lvl-1">
    <li>
      <form class="text-center search-form">
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
        <input id="search" type="search" name="search">
      </form>
    </li>
    <li class="menu-group"><a><strong>Input/Output</strong></a>
      <ul class="lvl-2">
        <li><a href="../operations/python_notebook.html">Python Notebook</a></li>
        <li><a href="../operations/r_notebook.html">R Notebook</a></li>
        <li><a href="../operations/read_dataframe.html">Read DataFrame</a></li>
        <li><a href="../operations/read_transformer.html">Read Transformer</a></li>
        <li><a href="../operations/write_dataframe.html">Write DataFrame</a></li>
        <li><a href="../operations/write_transformer.html">Write Transformer</a></li>
      </ul>
    </li>
    <li class="menu-group"><a><strong>Action</strong></a>
      <ul class="lvl-2">
        <li><a href="../operations/evaluate.html">Evaluate</a></li>
        <li><a href="../operations/fit.html">Fit</a></li>
        <li><a href="../operations/fit_plus_transform.html">Fit + Transform</a></li>
        <li><a href="../operations/transform.html">Transform</a></li>
      </ul>
    </li>
    <li class="menu-group"><a><strong>Set Operation</strong></a>
      <ul class="lvl-2">
        <li><a href="../operations/join.html">Join</a></li>
        <li><a href="../operations/split.html">Split</a></li>
        <li><a href="../operations/union.html">Union</a></li>
        <li><a href="../operations/sort.html">Sort</a></li>
        <li><a href="../operations/sql_combine.html">SQL Combine</a></li>
      </ul>
    </li>
    <li class="menu-group"><a><strong>Filtering</strong></a>
      <ul class="lvl-2">
        <li><a href="../operations/filter_columns.html">Filter Columns</a></li>
        <li><a href="../operations/filter_rows.html">Filter Rows</a></li>
        <li><a href="../operations/handle_missing_values.html">Handle Missing Values</a></li>
        <li><a href="../operations/projection.html">Projection</a></li>
      </ul>
    </li>
    <li class="menu-group"><a><strong>Transformation</strong></a>
      <ul class="lvl-2">
        <li class="menu-group"><a>Custom</a>
          <ul class="lvl-3">
            <li><a href="../operations/create_custom_transformer.html">Create Custom Transformer</a></li>
            <li class="menu-group"><a>SQL</a>
              <ul class="lvl-4">
                <li><a href="../operations/sql_column_transformation.html">SQL Column Transformation</a></li>
                <li><a href="../operations/sql_transformation.html">SQL Transformation</a></li>
              </ul>
            </li>
            <li class="menu-group"><a>Python</a>
              <ul class="lvl-4">
                <li><a href="../operations/python_column_transformation.html">Python Column Transformation</a></li>
                <li><a href="../operations/python_transformation.html">Python Transformation</a></li>
              </ul>
            </li>
            <li class="menu-group"><a>R</a>
              <ul class="lvl-4">
                <li><a href="../operations/r_column_transformation.html">R Column Transformation</a></li>
                <li><a href="../operations/r_transformation.html">R Transformation</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li class="menu-group"><a>Feature Conversion</a>
          <ul class="lvl-3">
            <li><a href="../operations/assemble_vector.html">Assemble Vector</a></li>
            <li><a href="../operations/binarize.html">Binarize</a></li>
            <li><a href="../operations/compose_datetime.html">Compose Datetime</a></li>
            <li><a href="../operations/convert_type.html">Convert Type</a></li>
            <li><a href="../operations/dct.html">DCT</a></li>
            <li><a href="../operations/decompose_datetime.html">Decompose Datetime</a></li>
            <li><a href="../operations/get_from_vector.html">Get From Vector</a></li>
            <li><a href="../operations/normalize.html">Normalize</a></li>
            <li><a href="../operations/one_hot_encoder.html">One Hot Encoder</a></li>
            <li><a href="../operations/polynomial_expansion.html">Polynomial Expansion</a></li>
            <li><a href="../operations/quantile_discretizer.html">Quantile Discretizer</a></li>
            <li><a href="../operations/string_indexer.html">String Indexer</a></li>
            <li><a href="../operations/vector_indexer.html">Vector Indexer</a></li>
          </ul>
        </li>
        <li class="menu-group"><a>Feature Scaling</a>
          <ul class="lvl-3">
            <li><a href="../operations/min-max_scaler.html">Min-Max Scaler</a></li>
            <li><a href="../operations/standard_scaler.html">Standard Scaler</a></li>
          </ul>
        </li>
        <li class="menu-group"><a>Text Processing</a>
          <ul class="lvl-3">
            <li><a href="../operations/convert_to_n-grams.html">Convert to n-grams</a></li>
            <li><a href="../operations/count_vectorizer.html">Count Vectorizer</a></li>
            <li><a href="../operations/hashingtf.html">HashingTF</a></li>
            <li><a href="../operations/idf.html">IDF</a></li>
            <li><a href="../operations/remove_stop_words.html">Remove Stop Words</a></li>
            <li><a href="../operations/tokenize.html">Tokenize</a></li>
            <li><a href="../operations/tokenize_with_regex.html">Tokenize with Regex</a></li>
            <li><a href="../operations/word2vec.html">Word2Vec</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li class="menu-group"><a><strong>Machine Learning</strong></a>
      <ul class="lvl-2">
        <li class="menu-group"><a>Hyper Optimization</a>
          <ul class="lvl-3">
            <li><a href="../operations/grid_search.html">Grid Search</a></li>
          </ul>
        </li>
        <li class="menu-group"><a>Regression</a>
          <ul class="lvl-3">
            <li><a href="../operations/aft_survival_regression.html">AFT Survival Regression</a></li>
            <li><a href="../operations/decision_tree_regression.html">Decision Tree Regression</a></li>
            <li><a href="../operations/gbt_regression.html">GBT Regression</a></li>
            <li><a href="../operations/isotonic_regression.html">Isotonic Regression</a></li>
            <li><a href="../operations/linear_regression.html">Linear Regression</a></li>
            <li><a href="../operations/random_forest_regression.html">Random Forest Regression</a></li>
          </ul>
        </li>
        <li class="menu-group"><a>Classification</a>
          <ul class="lvl-3">
            <li><a href="../operations/decision_tree_classifier.html">Decision Tree Classifier</a></li>
            <li><a href="../operations/gbt_classifier.html">GBT Classifier</a></li>
            <li><a href="../operations/logistic_regression.html">Logistic Regression</a></li>
            <li><a href="../operations/multilayer_perceptron_classifier.html">Multilayer Perceptron Classifier</a></li>
            <li><a href="../operations/naive_bayes.html">Naive Bayes</a></li>
            <li><a href="../operations/random_forest_classifier.html">Random Forest Classifier</a></li>
          </ul>
        </li>
        <li class="menu-group"><a>Clustering</a>
          <ul class="lvl-3">
            <li><a href="../operations/k-means.html">K-Means</a></li>
            <li><a href="../operations/lda.html">LDA</a></li>
          </ul>
        </li>
        <li class="menu-group"><a>Feature Selection</a>
          <ul class="lvl-3">
            <li><a href="../operations/chi-squared_selector.html">Chi-Squared Selector</a></li>
          </ul>
        </li>
        <li class="menu-group"><a>Recommendation</a>
          <ul class="lvl-3">
            <li><a href="../operations/als.html">ALS</a></li>
          </ul>
        </li>
        <li class="menu-group"><a>Dimensionality Reduction</a>
          <ul class="lvl-3">
            <li><a href="../operations/pca.html">PCA</a></li>
          </ul>
        </li>
        <li class="menu-group"><a>Model Evaluation</a>
          <ul class="lvl-3">
            <li><a href="../operations/python_evaluator.html">Python Evaluator</a></li>
            <li><a href="../operations/r_evaluator.html">R Evaluator</a></li>
            <li><a href="../operations/binary_classification_evaluator.html">Binary Classification Evaluator</a></li>
            <li><a href="../operations/multiclass_classification_evaluator.html">Multiclass Classification Evaluator</a></li>
            <li><a href="../operations/regression_evaluator.html">Regression Evaluator</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</div>

  

  

  <div class="container" style="min-height: 100%;">

    <section style="padding-bottom: 100px;" class="documentation-content">
      
      <h1 class="title">R Notebook</h1>
      
      <p>The <code>R Notebook</code> operation combines the capabilities of the
<a target="_blank" href="https://spark.apache.org/docs/2.0.2/api/R/">SparkR</a> shell with
the rich selection of features the <a target="_blank" href="https://jupyter.org/">Jupyter
notebook</a> offers. It provides users with a unique environment to explore their data sets.</p>

<p><code>R Notebooks</code> allow the user to analyze their data by operating directly on the input <code>DataFrame</code>
by means of Apache Spark R API. The results of R code execution are presented immediately
and retained across user&#8217;s sessions. Due to their versatility, <code>R Notebooks</code> serve both as a way to
get familiarized with the data and as a record of completed research.</p>

<p>In order to use the <code>R Notebook</code>, the user has to drag and drop the operation onto the canvas and
connect a <a href="../classes/dataframe.html">DataFrame</a> to its input port. The connected <code>DataFrame</code> can
be accessed from within the <code>R Notebook</code> by calling the <code>dataframe()</code> function.</p>

<p>The user can start editing the code by clicking <strong>Open notebook</strong> in the <code>R Notebook</code> operation&#8217;s
parameters panel.</p>

<p>The variables and functions available in the operations’ global scope:</p>

<ul>
  <li>
    <p><code>dataframe()</code> - a function that returns the input <code>DataFrame</code> for this operation.
Everytime the input <code>DataFrame</code> changes, the <code>dataframe()</code> returns the updated <code>DataFrame</code>.</p>
  </li>
  <li>
    <p><code>sc</code> - Spark Context</p>
  </li>
  <li>
    <p><code>spark</code> - Spark Session</p>
  </li>
</ul>

<p><strong>Since</strong>: Seahorse 1.3.0</p>

<h4 id="examples">Examples</h4>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="kp">head</span><span class="p">(</span>dataframe<span class="p">())</span></code></pre></figure>

<pre><code>city	beds	baths	sq_ft	price
CityA 	2 	1 	820 	449178
CityC 	2 	1 	656 	267975
CityA 	2 	1 	636 	348946
CityA 	2 	1 	736 	356438
CityC 	3 	2 	1139 	473705
CityC 	2 	2 	1074 	458227
</code></pre>

<figure class="highlight"><pre><code class="language-r" data-lang="r">rdf <span class="o">=</span> collect<span class="p">(</span>dataframe<span class="p">())</span>
bed.vector <span class="o">&lt;-</span> <span class="kp">t</span><span class="p">(</span>rdf<span class="p">[,</span> <span class="m">2</span><span class="p">])</span>
bath.vector <span class="o">&lt;-</span> <span class="kp">t</span><span class="p">(</span>rdf<span class="p">[,</span> <span class="m">3</span><span class="p">])</span>
ratio <span class="o">&lt;-</span> <span class="kp">sort</span><span class="p">(</span>bed.vector <span class="o">/</span> bath.vector<span class="p">)</span>
plot<span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="kp">length</span><span class="p">(</span>ratio<span class="p">),</span> ratio<span class="p">,</span> xlab<span class="o">=</span><span class="s">&quot;index&quot;</span><span class="p">,</span> ylab<span class="o">=</span><span class="s">&quot;ratio&quot;</span><span class="p">)</span></code></pre></figure>

<p><img class="img-responsive" src="../img/r_plot.png" /></p>

<h2 id="input">Input</h2>

<table>
<thead>
<tr>
<th style="width:15%">Port</th>
<th style="width:15%">Type Qualifier</th>
<th style="width:70%">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0</code></td>
<td><code><a href="../classes/dataframe.html">DataFrame</a></code></td>
<td>The input <code>DataFrame</code> that can be accessed by calling <code>dataframe()</code>.</td>
</tr>
</tbody>
</table>

<h2 id="output">Output</h2>

<p>The <code>R Notebook</code> operation does not produce any output.</p>

<h2 id="parameters">Parameters</h2>

<table class="table">
  <thead>
    <tr>
      <th style="width:20%">Name</th>
      <th style="width:25%">Type</th>
      <th style="width:55%">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>execute notebook</code>
      </td>
      <td>
        <code><a href="../parameter_types.html#boolean">Boolean</a></code>
      </td>
      <td>
        If <code>true</code> then notebook code will be run on notebook
        node execution. In batch mode notebook will never be executed,
        no matter what parameter value will be.
      </td>
    </tr>

    <tr>
      <td>
        <code>send e-mail report</code>
      </td>
      <td>
        <code><a href="../parameter_types.html#boolean">Boolean</a></code>
      </td>
      <td>Appears only if <code>execute notebook = true</code>.
        If <code>true</code> then notebook result will be sent via e-mail.
        Field with e-mail address must be filled.
      </td>
    </tr>

    <tr>
      <td>
        <code>e-mail address</code>
      </td>
      <td>
        <code><a href="../parameter_types.html#string">String</a></code>
      </td>
      <td> Appears only if <code>send e-mail report = true</code>.
      E-mail address where html with notebook execution result
      should be sent to.
      </td>
    </tr>

  </tbody>
</table>

    </section>
  </div>

  <footer class="col-sm-12">
    <p class="text-center footer-text">Seahorse by <a href="https://deepsense.ai/" target="_blank"><span>deep</span>sense<span>.ai</span></a> | 2017 |
          <a target="_blank" href="https://twitter.com/deepsense_ai/"><img src="../img/twitter.png" height="35px"></a>
          <a target="_blank" href="https://github.com/deepsense-ai/seahorse"><img src="../img/octocat.png" height="25px"></a>
          <a target="_blank" href="https://community.seahorse.deepsense.ai/"><img src="../img/discourse.png" height="25px"></a>
    </p>
  </footer>
</body>

</html>
